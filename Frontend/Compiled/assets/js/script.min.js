$(document).ready(function() {
    $.get("Fragments/nav.html", function(data){
        var body = data.replace(/^.*?<body>(.*?)<\/body>.*?$/s,"$1");
        $("#Nav-bar").replaceWith(body);
    });
    $.get("Fragments/footer.html", function(data){
        var body = data.replace(/^.*?<body>(.*?)<\/body>.*?$/s,"$1");
        $("#Footer").replaceWith(body);
    });
})

$(document).ready(function() {
    var converter = new showdown.Converter();
    var prev_text = ""
    function update() {
        var text = $("#markdown").val();
        if(text == prev_text) return;
        var html = converter.makeHtml(text);
        $("#rendered").empty().append(html);
        prev_text = text
    }
    function loop() {
        update()
        setTimeout(loop, 1000)
    }
    loop()
    
    $(".text-tools").click(function() {
        var button = $(this)
        button.addClass('flash');
        setTimeout(function() { button.removeClass('flash'); }, 400);
    })
    
    $(".upload_image").unbind().click(function() {
        console.log("QQ")
    })
    console.log("SS")
})